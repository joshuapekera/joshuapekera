!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-30476296-7","auto"),ga("send","pageview"),function(a){var b={},c={},d={},e={},f=new rebound.SpringSystem,g={navigation:{nav:null,navItems:[],navOffsets:[],navItemWidths:[],navItemWidthsRunningSum:[],downIndex:0},carousel:{currentPage:0},dragging:{isDragging:!1},viewport:{viewportWidth:0,viewportHeight:0},captions:{captionItems:[]},imageSize:{imageWidth:[1080,2400,1080,1080,1080,1080,1080,1080,1080,1080,1080,1080],imageHeight:[1920,1536,1920,1920,1920,1920,1920,1920,1920,1920,1920,1920],rightEdge:[400,812,400,400,400,400,400,400,400,400,400,400,400,400],bottomEdge:[641,545,641,641,641,641,641,641,641,641,641,641,641],bottomPadding:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},springs:{mainSpring:f.createSpring(),navigationSpring:f.createSpring()}};jQuery.fn.springyCarousel=function(f){var h={carouselWrapperSelector:"#wrapper",slidesSelector:"#slides li",navigationSlider:"#nav",captionSelector:".caption",captions:{show:!0},navigation:{keys:!0,drag:!0},frictionAndTension:{navigation:{friction:5.5,tension:100},carousel:{friction:5.7,tension:4.5}},carouselTransitionComplete:null},i=a.extend({},h,f),j=null;g.viewport.viewportWidth=a(i.carouselWrapperSelector).innerWidth(),g.viewport.viewportHeight=a(i.slidesSelector).innerHeight(),g.navigation.nav=document.getElementById(i.navigationSlider.replace("#","")),j=a(i.navigationSlider).children("li");var k=c.calculateNavWidth(j);a(i.navigationSlider).width(k),j.each(function(a,b){g.navigation.navOffsets[a]=c.navOffsetForIndex(a),g.navigation.navItems[a]=b});var l=a(i.captionSelector);return l.each(function(a,b){g.captions.captionItems[a]=b}),e.setupMainSpring(i.frictionAndTension.carousel.friction,i.frictionAndTension.carousel.tension,function(b,c,f){g.navigation.nav.style.webkitTransform="translate3d("+b+"px, 0, 0)",g.navigation.nav.style.MozTransform="translate3d("+b+"px, 0, 0)",a(i.slidesSelector).each(function(a,h){var j=1-Math.abs(c-a);if(j>0){var k=a*g.viewport.viewportWidth-c*g.viewport.viewportWidth,m=e.transitionForProgressInRange(j,.6,1);if(h.style.webkitTransform="translate3d("+k+"px, 0, 0) scale("+m+")",h.style.MozTransform="translate3d("+k+"px, 0, 0) scale("+m+")",a<l.length){var n=e.transitionForProgressInRange(j,-8,1);l[a].style.opacity=n}}h.style.opacity=j>0?1:0;var o=e.transitionForProgressInRange(d.clampedProgress(j),.2,1,0);g.navigation.navItems[a].style.opacity=o,1===c.toString().split(".").length&&i.carouselTransitionComplete&&i.carouselTransitionComplete(f,b)})}),e.setupNavigationSpring(i.frictionAndTension.navigation.friction,i.frictionAndTension.navigation.tension),a(i.slidesSelector).each(function(a,b){b.style.webkitTransform="translate3d("+g.viewport.viewportWidth*a+"px, 0, 0)",b.style.MozTransform="translate3d("+g.viewport.viewportWidth*a+"px, 0, 0)",slides[a]=b}),c.selectTabIndex(0,!1),i.navigation.keys&&b.addArrowKeySupport(),i.navigation.drag&&b.addDragSupport(a(i.slidesSelector).parent()[0]),a(i.navigationSlider).children("li").each(function(b,d){a(d).click(function(){c.selectTabIndex(b,!0)}),a(d).mousedown(function(){g.navigation.downIndex=a(this).index(),g.springs.navigationSpring.setEndValue(1)}),a(d).mouseup(function(){g.springs.navigationSpring.setEndValue(0)})}),a(i.captionSelector).each(function(a,b){i.captions.show&&c.layoutCaptions(a,!0)}),this.recalculateSize=c.recalculateSize,this.goToPage=c.selectTabIndex,this},d.clampedProgress=function(a){return 0>a?a=0:a>1&&(a=1),a},c.recalculateSize=function(){g.viewport.viewportWidth=a("#wrapper").innerWidth(),g.viewport.viewportHeight=a("#slides li").innerHeight()},c.calculateNavWidth=function(b){var c=0;return b.each(function(b,d){g.navigation.navItemWidths[b]=a(d).innerWidth(),g.navigation.navItemWidthsRunningSum[b]=g.navigation.navItemWidths[b],b>0&&(g.navigation.navItemWidthsRunningSum[b]=g.navigation.navItemWidthsRunningSum[b]+g.navigation.navItemWidthsRunningSum[b-1]),c+=g.navigation.navItemWidths[b]}),c},c.navOffsetForIndex=function(a){if(a>0)var b=-1*(g.navigation.navItemWidthsRunningSum[a-1]+g.navigation.navItemWidths[a]/2);else var b=g.navigation.navItemWidths[a]/2*-1;return b},c.selectTabIndex=function(b,c){0>b?b=0:b>g.navigation.navItems.length-1&&(b=g.navigation.navItems.length-1),c?(g.viewport.viewportWidth=a("#wrapper").innerWidth(),g.carousel.currentPage=b,g.springs.mainSpring.setEndValue(b)):g.springs.mainSpring.setCurrentValue(b)},c.layoutCaptions=function(){var b=g.imageSize.rightEdge,d=g.imageSize.bottomEdge,e=g.imageSize.bottomPadding,f=g.captions.captionItems,h=e,i=a("#slides li"),j=i.innerWidth(),k=i.innerHeight();a(".caption").each(function(e,g){f[e]=g;var i=c.calculateContentScaleForIndex(e),l=j/2+b[e]*i,m=-1*(k/2-d[e]*i),n=parseInt(a(g).css("padding-left"),10);h[e]&&(m-=n),l=Math.round(l),m=Math.round(m),g.style.webkitTransform="translate3d("+l+"px, "+m+"px, 0)",g.style.MozTransform="translate3d("+l+"px, "+m+"px, 0)",f[e].style.visibility="visible"})},c.calculateContentScaleForIndex=function(a){var b=g.imageSize.imageWidth[a],c=g.imageSize.imageHeight[a],d=g.viewport.viewportWidth,e=g.viewport.viewportHeight,f=d/e>b/c?e/c:d/b;return f},b.addArrowKeySupport=function(){var b=!0,d=!1;a(document).keydown(function(a){var e=g.carousel.currentPage,f=.001,h=.03;if(37==a.keyCode){var i=g.springs.mainSpring.getCurrentValue()<f;i&&b?(d=!0,g.springs.mainSpring.setEndValue(g.springs.mainSpring.getCurrentValue()-h)):i||(d=!1,c.selectTabIndex(e-1,!0))}else if(39==a.keyCode){var i=g.springs.mainSpring.getCurrentValue()>g.navigation.navItems.length-1-f;i&&b?(d=!0,g.springs.mainSpring.setEndValue(g.springs.mainSpring.getCurrentValue()+h)):i||(d=!1,c.selectTabIndex(e+1,!0))}b=!1}),a(document).keyup(function(a){var e=g.carousel.currentPage;37==a.keyCode&&d?c.selectTabIndex(e-1,!0):39==a.keyCode&&d&&c.selectTabIndex(e+1,!0),isRubberBanding=!1,b=!0})},b.addDragSupport=function(a){a.addEventListener("touchstart",function(a){var b=a.touches[0];startDragging(b.pageX)},!1),a.addEventListener("touchmove",function(a){a.preventDefault();var b=a.touches[0];continueDragging(b.pageX)},!1),a.addEventListener("touchend",function(a){endDragging()},!1),a.addEventListener("touchcancel",function(a){endDragging()},!1),a.addEventListener("mousedown",function(a){startDragging(a.clientX)},!1),a.addEventListener("mousemove",function(a){g.dragging.isDragging&&continueDragging(a.clientX)},!1),a.addEventListener("mouseup",function(a){endDragging()},!1),a.addEventListener("mouseleave",function(a){g.dragging.isDragging&&endDragging()},!1)},startDragging=function(b){lastX=b,g.dragging.isDragging=!0,g.viewport.viewportWidth=a("#wrapper").innerWidth(),g.springs.mainSpring.setAtRest(),a("#slides").addClass("dragging")},continueDragging=function(a){panVelocity=a-lastX,lastX=a;var b=e.progressForValueInRange(panVelocity,0,-g.viewport.viewportWidth),c=g.springs.mainSpring.getCurrentValue();(0>c+b||c+b>g.navigation.navItems.length-1)&&(b*=.5),g.springs.mainSpring.setCurrentValue(c+b),g.springs.mainSpring.setAtRest()},endDragging=function(){var b=g.springs.mainSpring.getCurrentValue(),d=g.carousel.currentPage,f=Math.abs(panVelocity)>3,h=Math.abs(b-d)>.3,i=h||f,j=panVelocity<=0;if(i){var k=j?d+1:d-1;c.selectTabIndex(k,!0)}else c.selectTabIndex(d,!0);var l=e.progressForValueInRange(panVelocity,0,-g.viewport.viewportWidth);g.springs.mainSpring.setVelocity(30*l),panVelocity=0,g.dragging.isDragging=!1,a("#slides").removeClass("dragging")},e.setupMainSpring=function(a,b,c){g.springs.mainSpring.setSpringConfig(rebound.SpringConfig.fromOrigamiTensionAndFriction(b,a)),g.springs.mainSpring.addListener({onSpringUpdate:function(a){var b=a.getCurrentValue(),d=e.transitionForProgressInSteps(b,g.navigation.navOffsets);Math.abs(a.getVelocity())<.05&&window.devicePixelRatio<1.1&&(d=Math.floor(d)),c(d,b,a)}})},e.setupNavigationSpring=function(a,b){g.springs.navigationSpring.setSpringConfig(rebound.SpringConfig.fromOrigamiTensionAndFriction(b,a)),g.springs.navigationSpring.addListener({onSpringUpdate:function(a){var b=a.getCurrentValue(),c=e.transitionForProgressInRange(b,1,.92);g.navigation.navItems[g.navigation.downIndex].style.webkitTransform="scale("+c+")",g.navigation.navItems[g.navigation.downIndex].style.MozTransform="scale("+c+")"}})},e.transitionForProgressInSteps=function(a,b){var c=-1;return b.length<2?c:(0>a?c=e.transitionForProgressInRange(a,b[0],b[1]):a>b.length-1?(normalizedProgress=e.progressForValueInRange(a,Math.floor(a),Math.floor(a)+1),normalizedProgress+=1,c=e.transitionForProgressInRange(normalizedProgress,b[b.length-2],b[b.length-1])):a==b.length-1||0==a?c=b[a]:(normalizedProgress=e.progressForValueInRange(a,Math.floor(a),Math.floor(a)+1),c=e.transitionForProgressInRange(normalizedProgress,b[Math.floor(a)],b[Math.floor(a)+1])),c)},e.transitionForProgressInRange=function(a,b,c){return b+a*(c-b)},e.progressForValueInRange=function(a,b,c){return(a-b)/(c-b)}}(jQuery),FastClick.attach(document.body),function(a){"use strict";var b=a("body"),c=a("#hamburgericon"),d=a("#appnav > .menu");a(".menu-button, .overlay").on("click",function(){b.hasClass("shift")?(b.removeClass("shift"),c.removeClass("open"),d.css("z-index","-1")):(b.addClass("shift"),c.addClass("open"),d.css("z-index","1"))})}(jQuery),function(a){"use strict";var b=a("#wrapper").springyCarousel({carouselTransitionComplete:function(a,b){}});a(window).resize(function(){b.recalculateSize()})}(jQuery),function(a){"use strict";var b=a("#slides li img");b.attr("draggable","false"),b.attr("ondragstart","return false;")}(jQuery),function(a){var b=a("html, body"),c=a("#appcontent").smoothState({prefetch:!0,pageCacheSize:4,blacklist:".nss",development:!1,onStart:{duration:200,render:function(a,d){c.toggleAnimationClass("is-exiting"),b.animate({scrollTop:0})}},onProgress:{duration:0,render:function(a,c){b.css("cursor","wait"),b.find("a").css("cursor","wait")}},onEnd:{duration:0,render:function(c,d,e){b.css("cursor","auto"),b.find("a").css("cursor","auto"),d.html(e),a(document).ready(),a(window).trigger("load")}},onAfter:function(b,d,e){var f=a(this).attr("href");a(this);c.load(f)}}).data("smoothState")}(jQuery);